import{c as st,l as dt,a as P,e as m,b as c,f as z,t as R,g as U,d as Ie}from"./P4ebssvT.js";import{i as ct}from"./BviUTUxV.js";import{e as ut,w as qe,v as ft,p as mt,x as bt,y as vt,z as W,A as _t,f as u,q as h,d as ht,B as k,b as B,s as L,F as A,j as y,C as S,r as C,m as l,D as Le,n as ve,E as Ee,l as s,k as Ae}from"./B96m4iMf.js";import{l as Fe,p as o,i as E,b as ee,s as yt,a as xt,w as _e}from"./zfKQsIjr.js";import{B as he,e as gt,i as pt}from"./C3EW5A4L.js";import{a as kt,c as M,s as ye,C as Bt,d as Pe,e as f,b as G}from"./DcMN-269.js";const xe=new Set,He=qe(0),ze=()=>He.set([...xe].filter(x=>ft(x)).length),Ct=x=>ut(()=>{xe.add(x);const a=x.subscribe(ze);return()=>{a(),xe.delete(x),ze()}});He.subscribe(x=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",x>0)});n[A]="node_modules/carbon-components-svelte/src/Modal/Modal.svelte";var Mt=P(z('<button type="button"><!></button>'),n[A],[[278,8]]),Tt=P(z("<h2><!></h2>"),n[A],[[291,8]]),Ot=P(z('<button type="button"><!></button>'),n[A],[[299,8]]),St=P(z("<div></div>"),n[A],[[326,6]]),wt=P(z("<div><!> <!></div>"),n[A],[[329,6]]),Dt=P(z('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>'),n[A],[[165,0,[[261,2,[[276,4,[[295,6]]],[313,4]]]]]]);function n(x,a){st(new.target);const te=Fe(a,["children","$$slots","$$events","$$legacy"]),je=Fe(te,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","formId","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);mt(a,!1,n);const[It,Ke]=yt(),ae=S(),ne=S(),le=S(),oe=S();let re=o(a,"size",8,void 0),b=o(a,"open",12,!1),ge=o(a,"danger",8,!1),pe=o(a,"alert",8,!1),F=o(a,"passiveModal",8,!1),ie=o(a,"modalHeading",8,void 0),q=o(a,"modalLabel",8,void 0),ke=o(a,"modalAriaLabel",8,void 0),Be=o(a,"iconDescription",8,"Close the modal"),Ne=o(a,"hasForm",8,!1),se=o(a,"formId",8,void 0),H=o(a,"hasScrollingContent",8,!1),Re=o(a,"primaryButtonText",8,""),Ce=o(a,"primaryButtonDisabled",8,!1),Ue=o(a,"primaryButtonIcon",8,void 0),We=o(a,"shouldSubmitOnEnter",8,!0),de=o(a,"secondaryButtonText",8,""),J=o(a,"secondaryButtons",24,()=>[]),Ge=o(a,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),Je=o(a,"preventCloseOnClickOutside",8,!1),w=o(a,"id",24,()=>"ccs-"+Math.random().toString(36)),ce=o(a,"ref",12,null);const v=bt();let j=S(null),Q=S(null),ue=S(null),fe=!1,me=S(!1),V=!1;function Qe(e){(l(ue).querySelector(Ge())||l(j)).focus()}function X(e){V=!0,v("close",{trigger:e},{cancelable:!0})?b(!1):V=!1}const Me=qe(b());Ct(Me),vt(()=>{fe?b()||(fe=!1,V||v("close"),V=!1):b()&&(fe=!0,Qe(),v("open"))}),W(()=>k(b()),()=>{xt(Me,b())}),W(()=>k(w()),()=>{y(ae,`bx--modal-header__label--modal-${w()}`)}),W(()=>k(w()),()=>{y(ne,`bx--modal-header__heading--modal-${w()}`)}),W(()=>k(w()),()=>{y(le,`bx--modal-body--${w()}`)}),W(()=>(k(q()),k(te),k(ke()),k(ie())),()=>{y(oe,q()||te["aria-label"]||ke()||ie())}),_t();var Ve={...dt()};ct();var d=Dt();kt(d,()=>({role:"presentation",id:w(),inert:b()?void 0:!0,...je,[Bt]:{"bx--modal":!0,"bx--modal-tall":!F(),"is-visible":b(),"bx--modal--danger":ge()}}));var T=B(d);let Te;var Y=B(T);M(Y,1,"",null,{},{"bx--modal-header":!0});var Oe=B(Y);{var Xe=e=>{var t=Mt();M(t,1,"",null,{},{"bx--modal-close":!0});var r=B(t);u(()=>Pe(r,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),"component",n,287,10,{componentTag:"Close"}),C(t),ee(t,i=>y(j,i),()=>l(j)),h(()=>f(t,"aria-label",Be())),m("click",t,()=>{X("close-button")}),c(e,t)};u(()=>E(Oe,e=>{F()&&e(Xe)}),"if",n,277,6)}var Se=L(Oe,2);{var Ye=e=>{var t=Tt();M(t,1,"",null,{},{"bx--modal-header__label":!0});var r=B(t);ye(r,a,"label",{},i=>{var p=R();h(()=>U(p,q())),c(i,p)}),C(t),h(()=>f(t,"id",l(ae))),c(e,t)};u(()=>E(Se,e=>{q()&&e(Ye)}),"if",n,290,6)}var K=L(Se,2);M(K,1,"",null,{},{"bx--modal-header__heading":!0});var Ze=B(K);ye(Ze,a,"heading",{},e=>{var t=R();h(()=>U(t,ie())),c(e,t)}),C(K);var $e=L(K,2);{var et=e=>{var t=Ot();M(t,1,"",null,{},{"bx--modal-close":!0});var r=B(t);u(()=>Pe(r,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),"component",n,308,10,{componentTag:"Close"}),C(t),ee(t,i=>y(j,i),()=>l(j)),h(()=>f(t,"aria-label",Be())),m("click",t,()=>{X("close-button")}),c(e,t)};u(()=>E($e,e=>{F()||e(et)}),"if",n,298,6)}C(Y);var g=L(Y,2);let we;var tt=B(g);ye(tt,a,"default",{},null),C(g);var De=L(g,2);{var at=e=>{var t=St();M(t,1,"",null,{},{"bx--modal-content--overflow-indicator":!0}),c(e,t)};u(()=>E(De,e=>{H()&&e(at)}),"if",n,325,4)}var nt=L(De,2);{var lt=e=>{var t=wt();let r;var i=B(t);{var p=O=>{var D=Ie(),I=Ae(D);u(()=>gt(I,1,J,pt,($,_)=>{u(()=>he($,{kind:"secondary",$$events:{click:()=>{v("click:button--secondary",{text:l(_).text})}},children:_e(n,(be,it)=>{ve();var N=R();h(()=>U(N,(l(_),Le(()=>l(_).text)))),c(be,N)}),$$slots:{default:!0}}),"component",n,335,12,{componentTag:"Button"})}),"each",n,334,10),c(O,D)},Z=O=>{var D=Ie(),I=Ae(D);{var $=_=>{u(()=>he(_,{kind:"secondary",$$events:{click:()=>{v("click:button--secondary",{text:de()})}},children:_e(n,(be,it)=>{ve();var N=R();h(()=>U(N,de())),c(be,N)}),$$slots:{default:!0}}),"component",n,345,10,{componentTag:"Button"})};u(()=>E(I,_=>{de()&&_($)},!0),"if",n,344,8)}c(O,D)};u(()=>E(i,O=>{k(J()),Le(()=>J().length>0)?O(p):O(Z,!1)}),"if",n,333,8)}var rt=L(i,2);{let O=Ee(()=>ge()?"danger":"primary"),D=Ee(()=>se()?"submit":"button");u(()=>he(rt,{get kind(){return l(O)},get disabled(){return Ce()},get icon(){return Ue()},get type(){return l(D)},get form(){return se()},get ref(){return l(Q)},set ref(I){y(Q,I)},$$events:{click:()=>{v("submit"),v("click:button--primary")}},children:_e(n,(I,$)=>{ve();var _=R();h(()=>U(_,Re())),c(I,_)}),$$slots:{default:!0},$$legacy:!0}),"component",n,356,8,{componentTag:"Button"})}C(t),h(()=>r=M(t,1,"",null,r,{"bx--modal-footer":!0,"bx--modal-footer--three-button":s(J().length,2)})),c(e,t)};u(()=>E(nt,e=>{F()||e(lt)}),"if",n,328,4)}C(T),ee(T,e=>y(ue,e),()=>l(ue)),C(d),ee(d,e=>ce(e),()=>ce()),h(()=>{f(T,"role",pe()?F()?"alert":"alertdialog":"dialog"),f(T,"aria-describedby",pe()&&!F()?l(le):void 0),f(T,"aria-label",l(oe)),Te=M(T,1,"",null,Te,{"bx--modal-container":!0,"bx--modal-container--xs":s(re(),"xs"),"bx--modal-container--sm":s(re(),"sm"),"bx--modal-container--lg":s(re(),"lg")}),f(K,"id",l(ne)),f(g,"id",l(le)),f(g,"tabindex",H()?"0":void 0),f(g,"role",H()?"region":void 0),f(g,"aria-label",H()?l(oe):void 0),f(g,"aria-labelledby",q()?l(ae):l(ne)),we=M(g,1,"",null,we,{"bx--modal-content":!0,"bx--modal-content--with-form":Ne(),"bx--modal-scroll-content":H()})}),m("click",T,()=>{y(me,!0)}),m("keydown",d,function(e){G.call(this,a,e)}),m("keydown",d,e=>{if(b())if(s(e.key,"Escape"))X("escape-key");else if(s(e.key,"Tab")){const r=Array.from(ce().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`)).filter(p=>{const Z=getComputedStyle(p);return!(s(Z.visibility,"hidden")||s(Z.display,"none")||s(p.offsetParent,null,!1)&&s(p.offsetWidth,0)&&s(p.offsetHeight,0))});if(s(r.length,0)){e.preventDefault();return}let i=r.indexOf(document.activeElement);s(i,-1)&&(i=e.shiftKey?r.length:-1),i+=e.shiftKey?-1:1,i=(i+r.length)%r.length,r[i].focus(),e.preventDefault()}else We()&&s(e.key,"Enter")&&!Ce()&&(se()&&l(Q)?l(Q).click():(v("submit"),v("click:button--primary")))}),m("click",d,function(e){G.call(this,a,e)}),m("click",d,()=>{!l(me)&&!Je()&&X("outside-click"),y(me,!1)}),m("mouseover",d,function(e){G.call(this,a,e)}),m("mouseenter",d,function(e){G.call(this,a,e)}),m("mouseleave",d,function(e){G.call(this,a,e)}),m("transitionend",d,e=>{s(e.propertyName,"transform")&&v("transitionend",{open:b()})}),c(x,d);var ot=ht(Ve);return Ke(),ot}export{n as M,Ct as t};
