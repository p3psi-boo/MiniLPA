import{c as Te,l as Ve,a as u,b as r,g as m,h as je,e as ne,f as g,t as he,d as ye}from"../chunks/P4ebssvT.js";import{p as ke,z as Ge,j as _,C as ce,B as xe,l as S,m as e,A as ct,b as i,f as o,n as E,r as s,d as Pe,q as G,F as d,i as le,x as vt,e as Ke,s as n,t as W,h as $e,u as oe,k as R}from"../chunks/B96m4iMf.js";import{l as ve,p as z,i as L,w as N}from"../chunks/zfKQsIjr.js";import{l as Je,C as dt,B as Ie,R as ut,d as Ce,c as pt,I as qe,L as ft}from"../chunks/C3EW5A4L.js";import{i as Oe}from"../chunks/BviUTUxV.js";import{T as re}from"../chunks/BK669WQ-.js";import{a as Qe,C as mt,c as _t,b as Ye}from"../chunks/DcMN-269.js";import{D as Ze}from"../chunks/DaJ0c-eI.js";q[d]="node_modules/carbon-components-svelte/src/icons/Copy.svelte";var gt=u(je("<title> </title>"),q[d],[[24,13]]),wt=u(je('<svg><!><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg>'),q[d],[[14,0,[[25,2],[27,10]]]]);function q(Y,l){Te(new.target);const a=ve(l,["children","$$slots","$$events","$$legacy"]),k=ve(a,["size","title"]);ke(l,!1,q);const p=ce(),P=ce();let F=z(l,"size",8,16),h=z(l,"title",8,void 0);Ge(()=>(xe(a),xe(h())),()=>{_(p,a["aria-label"]||a["aria-labelledby"]||h())}),Ge(()=>(e(p),xe(a)),()=>{_(P,{"aria-hidden":e(p)?void 0:!0,role:e(p)?"img":void 0,focusable:S(Number(a.tabindex),0)?!0:void 0})}),ct();var Z={...Ve()};Oe();var D=wt();Qe(D,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:F(),height:F(),...e(P),...k}));var f=i(D);{var A=y=>{var c=gt(),B=i(c,!0);s(c),G(()=>m(B,h())),r(y,c)};o(()=>L(f,y=>{h()&&y(A)}),"if",q,24,2)}return E(2),s(D),r(Y,D),Pe(Z)}X[d]="node_modules/carbon-components-svelte/src/CopyButton/CopyButton.svelte";var bt=u(g('<button><!> <span aria-hidden="true"> </span></button>'),X[d],[[43,0,[[75,2]]]]);function X(Y,l){Te(new.target);const a=ve(l,["children","$$slots","$$events","$$legacy"]),k=ve(a,["feedback","feedbackTimeout","iconDescription","text","copy"]);ke(l,!1,X);let p=z(l,"feedback",8,"Copied!"),P=z(l,"feedbackTimeout",8,2e3),F=z(l,"iconDescription",8,"Copy to clipboard"),h=z(l,"text",8),Z=z(l,"copy",8,async x=>{try{(await le(navigator.clipboard.writeText(x)))()}catch(ue){console.log(...Je("log",ue))}});const D=vt();let f=ce(void 0),A=ce(void 0);Ke(()=>()=>clearTimeout(e(A)));var y={...Ve()};Oe();var c=bt();Qe(c,()=>({type:"button","aria-live":"polite","aria-label":F(),title:F(),...k,[mt]:{"bx--copy-btn":!0,"bx--copy":!0,"bx--copy-btn--animating":e(f),"bx--copy-btn--fade-in":S(e(f),"fade-in"),"bx--copy-btn--fade-out":S(e(f),"fade-out")}}));var B=i(c);o(()=>q(B,{class:"bx--snippet__icon"}),"component",X,74,2,{componentTag:"Copy"});var j=n(B,2);_t(j,1,"",null,{},{"bx--assistive-text":!0,"bx--copy-btn__feedback":!0});var de=i(j,!0);return s(j),s(c),G(()=>m(de,p())),ne("click",c,function(x){Ye.call(this,l,x)}),ne("click",c,()=>{S(h(),void 0,!1)&&(Z()(h()),D("copy")),!S(e(f),"fade-in")&&(_(f,"fade-in"),_(A,setTimeout(()=>{_(f,"fade-out")},P())))}),ne("animationend",c,function(x){Ye.call(this,l,x)}),ne("animationend",c,({animationName:x})=>{S(x,"hide-feedback")&&_(f,void 0)}),r(Y,c),Pe(y)}t[d]="src/routes/chip/+page.svelte";var ht=u(g('<div class="loading-container svelte-wn5iu3"><!></div>'),t[d],[[137,2]]),yt=u(g("<!> <!>",1),t[d],[]),xt=u(g('<h2 class="svelte-wn5iu3">EID (eUICC 标识符)</h2> <div class="eid-display svelte-wn5iu3"><code class="eid-value svelte-wn5iu3"> </code> <!></div> <p class="eid-description svelte-wn5iu3">EID 是 eUICC 的唯一标识符，类似于物理 SIM 卡的 ICCID。某些运营商可能需要此信息来激活服务。</p>',1),t[d],[[152,4],[153,4,[[154,5]]],[157,4]]),$t=u(g('<span class="table-cell svelte-wn5iu3"> </span>'),t[d],[[167,6]]),It=u(g('<h2 class="svelte-wn5iu3">eUICC 信息</h2> <!>',1),t[d],[[164,4]]),Ct=u(g('<span class="table-cell svelte-wn5iu3"> </span>'),t[d],[[177,6]]),Tt=u(g('<h2 class="svelte-wn5iu3">卡资源</h2> <!>',1),t[d],[[174,4]]),Vt=u(g('<h2 class="svelte-wn5iu3">技术详情</h2> <div class="technical-details svelte-wn5iu3"><div class="detail-group svelte-wn5iu3"><h3 class="svelte-wn5iu3">规范版本</h3> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">Profile Version:</span> <span class="detail-value svelte-wn5iu3"> </span></div> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">SGP.22 Version:</span> <span class="detail-value svelte-wn5iu3"> </span></div> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">GlobalPlatform Version:</span> <span class="detail-value svelte-wn5iu3"> </span></div></div> <div class="detail-group svelte-wn5iu3"><h3 class="svelte-wn5iu3">固件版本</h3> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">eUICC Firmware:</span> <span class="detail-value svelte-wn5iu3"> </span></div> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">UICC Firmware:</span> <span class="detail-value svelte-wn5iu3"> </span></div></div> <div class="detail-group svelte-wn5iu3"><h3 class="svelte-wn5iu3">类别和功能</h3> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">eUICC Category:</span> <span class="detail-value svelte-wn5iu3"> </span></div> <div class="detail-item svelte-wn5iu3"><span class="detail-label svelte-wn5iu3">Forbidden Profile Policy Rules:</span> <span class="detail-value svelte-wn5iu3"> </span></div></div></div>',1),t[d],[[185,5],[186,5,[[187,6,[[188,7],[189,7,[[190,8],[191,8]]],[193,7,[[194,8],[195,8]]],[197,7,[[198,8],[199,8]]]]],[203,6,[[204,7],[205,7,[[206,8],[207,8]]],[209,7,[[210,8],[211,8]]]]],[215,6,[[216,7],[217,7,[[218,8],[219,8]]],[221,7,[[222,8],[223,8]]]]]]]]),kt=u(g('<div class="chip-info-container svelte-wn5iu3"><!> <!> <!> <!></div>'),t[d],[[149,2]]),Pt=u(g('<div class="chip-page svelte-wn5iu3"><div class="header svelte-wn5iu3"><div class="header-title svelte-wn5iu3"><!> <div><h1 class="svelte-wn5iu3">芯片详细信息</h1> <p class="svelte-wn5iu3">查看 eUICC 芯片的详细技术信息</p></div></div> <!></div> <!></div>'),t[d],[[114,0,[[115,1,[[116,2,[[118,3,[[119,4],[120,4]]]]]]]]]]);function t(Y,l){Te(new.target),ke(l,!0,t);let a=W($e(null),"chipInfo"),k=W($e(!1),"loading"),p=W($e(null),"error");Ke(async()=>{Ce.selectedDevice||(await le(Ce.loadDevices()))(),(await le(P()))()});async function P(){_(k,!0),_(p,null);try{_(a,(await le(pt.getInfo()))(),!0)}catch(v){_(p,v instanceof Error?v.message:"获取芯片信息失败",!0),console.error(...Je("error","Failed to load chip info:",v))}finally{_(k,!1)}}function F(v){return(v/1024).toFixed(2)+" KB"}function h(v){navigator.clipboard.writeText(v)}let Z=W(oe(()=>e(a)?[{id:"1",property:"Profile Version",value:e(a).euiccInfo2.profileVersion},{id:"2",property:"SGP22 Version",value:e(a).euiccInfo2.svn},{id:"3",property:"Firmware Version",value:e(a).euiccInfo2.euiccFirmwareVer},{id:"4",property:"Global Platform Version",value:e(a).euiccInfo2.globalplatformVersion},{id:"5",property:"UICC Firmware Version",value:e(a).euiccInfo2.uiccFirmwareVer},{id:"6",property:"EUM Signed",value:e(a).euiccInfo2.extCardResource.freeNonVolatileMemory?"Yes":"No"}]:[]),"euiccInfo2Rows"),D=W(oe(()=>e(a)?[{id:"1",property:"Installed Applications",value:e(a).euiccInfo2.extCardResource.installedApp.toString()},{id:"2",property:"Free Non-Volatile Memory",value:F(e(a).euiccInfo2.extCardResource.freeNonVolatileMemory)},{id:"3",property:"Free Volatile Memory",value:F(e(a).euiccInfo2.extCardResource.freeVolatileMemory)}]:[]),"resourceRows");const f=[{key:"property",value:"属性",empty:!1},{key:"value",value:"值",empty:!1}];var A={...Ve()},y=Pt(),c=i(y),B=i(c),j=i(B);o(()=>dt(j,{size:32}),"component",t,117,3,{componentTag:"ChipIcon"}),E(2),s(B);var de=n(B,2);o(()=>Ie(de,{get disabled(){return e(k)},get icon(){return ut},$$events:{click:P},children:N(t,(v,K)=>{E();var ee=he("刷新");r(v,ee)}),$$slots:{default:!0}}),"component",t,123,2,{componentTag:"Button"}),s(c);var x=n(c,2);{var ue=v=>{o(()=>qe(v,{kind:"warning",title:"未选择设备",subtitle:"请先返回首页选择一个读卡器设备",$$slots:{actions:(K,ee)=>{o(()=>Ie(K,{href:"/",kind:"tertiary",children:N(t,(pe,Fe)=>{E();var M=he("返回首页");r(pe,M)}),$$slots:{default:!0}}),"component",t,133,4,{componentTag:"Button"})}}}),"component",t,127,2,{componentTag:"InlineNotification"})},We=v=>{var K=ye(),ee=R(K);{var pe=M=>{var U=ht(),fe=i(U);o(()=>ft(fe,{description:"正在加载芯片信息..."}),"component",t,138,3,{componentTag:"Loading"}),s(U),r(M,U)},Fe=M=>{var U=ye(),fe=R(U);{var Xe=H=>{var J=yt(),te=R(J);o(()=>qe(te,{kind:"error",title:"加载失败",get subtitle(){return e(p)},$$events:{close:()=>_(p,null)}}),"component",t,141,2,{componentTag:"InlineNotification"});var me=n(te,2);o(()=>Ie(me,{$$events:{click:P},children:N(t,(O,ae)=>{E();var ie=he("重试");r(O,ie)}),$$slots:{default:!0}}),"component",t,147,2,{componentTag:"Button"}),r(H,J)},et=H=>{var J=ye(),te=R(J);{var me=O=>{var ae=kt(),ie=i(ae);o(()=>re(ie,{class:"eid-section",children:N(t,($,se)=>{var I=xt(),C=n(R(I),2),w=i(C),T=i(w,!0);s(w);var V=n(w,2);o(()=>X(V,{get text(){return e(a).eid},$$events:{click:()=>e(a)&&h(e(a).eid)}}),"component",t,155,5,{componentTag:"CopyButton"}),s(C),E(2),G(()=>m(T,e(a).eid)),r($,I)}),$$slots:{default:!0}}),"component",t,151,3,{componentTag:"Tile"});var De=n(ie,2);o(()=>re(De,{children:N(t,($,se)=>{var I=It(),C=n(R(I),2);o(()=>Ze(C,{get headers(){return f},get rows(){return e(Z)},size:"compact",$$slots:{cell:(w,T)=>{const V=oe(()=>T.cell);var b=$t(),Q=i(b,!0);s(b),G(()=>m(Q,e(V).value)),r(w,b)}}}),"component",t,165,4,{componentTag:"DataTable"}),r($,I)}),$$slots:{default:!0}}),"component",t,163,3,{componentTag:"Tile"});var Be=n(De,2);o(()=>re(Be,{children:N(t,($,se)=>{var I=Tt(),C=n(R(I),2);o(()=>Ze(C,{get headers(){return f},get rows(){return e(D)},size:"compact",$$slots:{cell:(w,T)=>{const V=oe(()=>T.cell);var b=Ct(),Q=i(b,!0);s(b),G(()=>m(Q,e(V).value)),r(w,b)}}}),"component",t,175,4,{componentTag:"DataTable"}),r($,I)}),$$slots:{default:!0}}),"component",t,173,3,{componentTag:"Tile"});var tt=n(Be,2);{var at=$=>{o(()=>re($,{children:N(t,(se,I)=>{var C=Vt(),w=n(R(C),2),T=i(w),V=n(i(T),2),b=n(i(V),2),Q=i(b,!0);s(b),s(V);var _e=n(V,2),Me=n(i(_e),2),it=i(Me,!0);s(Me),s(_e);var Re=n(_e,2),Ne=n(i(Re),2),st=i(Ne,!0);s(Ne),s(Re),s(T);var ge=n(T,2),we=n(i(ge),2),ze=n(i(we),2),nt=i(ze,!0);s(ze),s(we);var Ae=n(we,2),Ue=n(i(Ae),2),ot=i(Ue,!0);s(Ue),s(Ae),s(ge);var He=n(ge,2),be=n(i(He),2),Se=n(i(be),2),rt=i(Se,!0);s(Se),s(be);var Ee=n(be,2),Le=n(i(Ee),2),lt=i(Le,!0);s(Le),s(Ee),s(He),s(w),G(()=>{m(Q,e(a).euiccInfo2.profileVersion),m(it,e(a).euiccInfo2.svn),m(st,e(a).euiccInfo2.globalplatformVersion),m(nt,e(a).euiccInfo2.euiccFirmwareVer),m(ot,e(a).euiccInfo2.uiccFirmwareVer),m(rt,e(a).euiccInfo2.euiccCategory||"N/A"),m(lt,e(a).euiccInfo2.forbiddenProfilePolicyRules||"None")}),r(se,C)}),$$slots:{default:!0}}),"component",t,184,4,{componentTag:"Tile"})};o(()=>L(tt,$=>{e(a).euiccInfo2&&$(at)}),"if",t,183,3)}s(ae),r(O,ae)};o(()=>L(te,O=>{e(a)&&O(me)},!0),"if",t,148,1)}r(H,J)};o(()=>L(fe,H=>{e(p)?H(Xe):H(et,!1)},!0),"if",t,140,1)}r(M,U)};o(()=>L(ee,M=>{e(k)?M(pe):M(Fe,!1)},!0),"if",t,136,1)}r(v,K)};o(()=>L(x,v=>{Ce.selectedDevice?v(We,!1):v(ue)}),"if",t,126,1)}return s(y),r(Y,y),Pe(A)}export{t as component};
